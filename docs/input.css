@import "tailwindcss";

/* Configure content sources for v4 */
@source "./src/**/*.jl";
@source "../src/**/*.jl";
@source "../src/theme_classes.jl";

/* Enable class-based dark mode (toggle via .dark class on <html>) */
@custom-variant dark (&:where(.dark, .dark *));

/* Theme customizations */
@theme {
  --font-sans: 'Optima', 'Palatino Linotype', 'Book Antiqua', 'EB Garamond', serif;
  --font-serif: 'EB Garamond', 'Palatino Linotype', 'Book Antiqua', Georgia, serif;
  --font-mono: 'JuliaMono', 'Fira Code', 'JetBrains Mono', monospace;

  /* Warm neutral palette (shared across GroupTherapyOrg ecosystem) */
  --color-warm-50: #f8f7f4;
  --color-warm-100: #f0ece4;
  --color-warm-200: #e8e3d9;
  --color-warm-300: #d4d0c8;
  --color-warm-400: #9a9590;
  --color-warm-500: #8a8680;
  --color-warm-600: #6b6560;
  --color-warm-700: #5a5855;
  --color-warm-800: #2a2520;
  --color-warm-900: #1a1918;
  --color-warm-950: #111110;

  /* Accent palette — Julia Purple #9558b2 (Suite.jl primary accent) */
  --color-accent-50: #f6f0fa;
  --color-accent-100: #e9d9f2;
  --color-accent-200: #d4b3e5;
  --color-accent-300: #bf8dd8;
  --color-accent-400: #a96ecb;
  --color-accent-500: #9558b2;
  --color-accent-600: #7a4892;
  --color-accent-700: #5f3871;
  --color-accent-800: #452851;
  --color-accent-900: #2b1933;
  --color-accent-950: #180e1e;

  /* Accent-secondary palette — Julia Red #cb3c33 (Suite.jl secondary accent) */
  --color-accent-secondary-50: #fdf2f1;
  --color-accent-secondary-100: #f9dbd9;
  --color-accent-secondary-200: #f0aba6;
  --color-accent-secondary-300: #e47b74;
  --color-accent-secondary-400: #d85a51;
  --color-accent-secondary-500: #cb3c33;
  --color-accent-secondary-600: #a8312a;
  --color-accent-secondary-700: #832620;
  --color-accent-secondary-800: #5f1b17;
  --color-accent-secondary-900: #3d110f;
  --color-accent-secondary-950: #240a09;

  /* Border radius tokens (shadcn compatibility) */
  --radius: 0.5rem;
}

/* Design System CSS custom properties */
@layer base {
  :root {
    /* Shared neutrals */
    --bg-primary: #f8f7f4;
    --bg-secondary: #f0ece4;
    --bg-tertiary: #e8e3d9;
    --text-primary: #2a2520;
    --text-secondary: #6b6560;
    --text-tertiary: #9a9590;

    /* Julia palette */
    --julia-red: #cb3c33;
    --julia-purple: #9558b2;
    --julia-blue: #4063d8;
    --julia-green: #389826;

    /* Suite.jl accent overrides */
    --accent: var(--julia-purple);
    --accent-secondary: var(--julia-red);
  }

  html {
    scroll-behavior: smooth;
    background-color: var(--bg-primary);
  }

  pre code {
    font-family: 'JuliaMono', 'Fira Code', 'JetBrains Mono', monospace;
  }
}

/* Dark mode custom properties */
@layer base {
  .dark {
    --bg-primary: #111110;
    --bg-secondary: #1a1918;
    --bg-tertiary: #252422;
    --text-primary: #d4d0c8;
    --text-secondary: #8a8680;
    --text-tertiary: #5a5855;
  }
}

/* Theme switcher — override accent palette via data-theme attribute on <html> */
@layer base {
  /* Ocean theme — Blue accent, Rose secondary */
  [data-theme="ocean"] {
    --color-accent-50: #eff6ff;
    --color-accent-100: #dbeafe;
    --color-accent-200: #bfdbfe;
    --color-accent-300: #93c5fd;
    --color-accent-400: #60a5fa;
    --color-accent-500: #3b82f6;
    --color-accent-600: #2563eb;
    --color-accent-700: #1d4ed8;
    --color-accent-800: #1e40af;
    --color-accent-900: #1e3a8a;
    --color-accent-950: #172554;
    --color-accent-secondary-50: #fff1f2;
    --color-accent-secondary-100: #ffe4e6;
    --color-accent-secondary-200: #fecdd3;
    --color-accent-secondary-300: #fda4af;
    --color-accent-secondary-400: #fb7185;
    --color-accent-secondary-500: #f43f5e;
    --color-accent-secondary-600: #e11d48;
    --color-accent-secondary-700: #be123c;
    --color-accent-secondary-800: #9f1239;
    --color-accent-secondary-900: #881337;
    --color-accent-secondary-950: #4c0519;
  }

  /* Minimal theme — Zinc accent, Red secondary */
  [data-theme="minimal"] {
    --color-accent-50: #fafafa;
    --color-accent-100: #f4f4f5;
    --color-accent-200: #e4e4e7;
    --color-accent-300: #d4d4d8;
    --color-accent-400: #a1a1aa;
    --color-accent-500: #71717a;
    --color-accent-600: #52525b;
    --color-accent-700: #3f3f46;
    --color-accent-800: #27272a;
    --color-accent-900: #18181b;
    --color-accent-950: #09090b;
    --color-accent-secondary-50: #fef2f2;
    --color-accent-secondary-100: #fee2e2;
    --color-accent-secondary-200: #fecaca;
    --color-accent-secondary-300: #fca5a5;
    --color-accent-secondary-400: #f87171;
    --color-accent-secondary-500: #ef4444;
    --color-accent-secondary-600: #dc2626;
    --color-accent-secondary-700: #b91c1c;
    --color-accent-secondary-800: #991b1b;
    --color-accent-secondary-900: #7f1d1d;
    --color-accent-secondary-950: #450a0a;
  }

  /* Nature theme — Emerald accent, Amber secondary */
  [data-theme="nature"] {
    --color-accent-50: #ecfdf5;
    --color-accent-100: #d1fae5;
    --color-accent-200: #a7f3d0;
    --color-accent-300: #6ee7b7;
    --color-accent-400: #34d399;
    --color-accent-500: #10b981;
    --color-accent-600: #059669;
    --color-accent-700: #047857;
    --color-accent-800: #065f46;
    --color-accent-900: #064e3b;
    --color-accent-950: #022c22;
    --color-accent-secondary-50: #fffbeb;
    --color-accent-secondary-100: #fef3c7;
    --color-accent-secondary-200: #fde68a;
    --color-accent-secondary-300: #fcd34d;
    --color-accent-secondary-400: #fbbf24;
    --color-accent-secondary-500: #f59e0b;
    --color-accent-secondary-600: #d97706;
    --color-accent-secondary-700: #b45309;
    --color-accent-secondary-800: #92400e;
    --color-accent-secondary-900: #78350f;
    --color-accent-secondary-950: #451a03;
  }
}

/* Calendar selection states */
@layer components {
  .suite-cal-selected {
    @apply bg-accent-600 text-white hover:bg-accent-700;
  }
  .suite-cal-range-middle {
    @apply bg-accent-100 dark:bg-accent-900/30 rounded-none;
  }
  td[data-range-start] {
    @apply rounded-l-md;
  }
  td[data-range-end] {
    @apply rounded-r-md;
  }
  td[data-range-start] .suite-cal-selected {
    @apply rounded-l-md rounded-r-none;
  }
  td[data-range-end] .suite-cal-selected {
    @apply rounded-r-md rounded-l-none;
  }
}

/* Julia syntax highlighting for CodeBlock */
@layer components {
  .suite-hl-keyword { color: #c792ea; }
  .suite-hl-string  { color: #c3e88d; }
  .suite-hl-comment { color: #6b6560; font-style: italic; }
  .suite-hl-number  { color: #f78c6c; }
  .suite-hl-funcall { color: #82aaff; }
  .suite-hl-type    { color: #ffcb6b; }
  .suite-hl-symbol  { color: #ff5370; }
  .suite-hl-macro   { color: #c792ea; font-weight: 600; }
  .suite-hl-special { color: #f78c6c; font-style: italic; }
  .suite-hl-operator { color: #89ddff; }
}
